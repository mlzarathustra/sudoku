import s.*

def solve(inp) {
    def b=new Board().readString( inp ).findPossible()
    if (b.win()) println "WIN!"
    else println "not a win."
    println b

}


[
        // win r+c only
'''
123456789
234567891
345678912
456789123
567891234
678912345
789123456
891234567
912345678
''',
        // unfinished
'''
12345678.
234567891
345678912
456789123
567891234
678912345
789123456
891234567
912345678
''',
        // full but no win - bad row
'''
123456781
234567891
345678912
456789123
567891234
678912345
789123456
891234567
912345679
''',   // full but no win - bad column
'''
123456789
123456789
123456789
123456789
123456789
123456789
123456789
123456789
123456789
''',
'''
123456789
456789123
789123456
234567891
567891234
891234567
345678912
678912345
912345678
'''


].each { solve(it) }